# Flujo configuration for MED13 Resource Library
# FLUJO_STATE_URI environment variable overrides this fallback.
state_uri = "sqlite:///flujo_state.db"

[settings]
# Core settings
test_mode = false
memory_indexing_enabled = false

# Connection Pooling (critical for FastAPI + Postgres)
# Uncomment and adjust for production deployments
# postgres_pool_min = 5
# postgres_pool_max = 20

[architect]
state_machine_default = false

[aros]
# Stage 2: Uses json-repair to fix markdown fences/trailing commas automatically
coercion_tolerant_level = 2
structured_output_default = "openai_json"

[cost]
# Cost tracking configuration
strict = false

[cost.providers.openai."gpt-4o-mini"]
prompt_tokens_per_1k = 0.00015
completion_tokens_per_1k = 0.0006

[cost.providers.openai."gpt-4o"]
prompt_tokens_per_1k = 0.005
completion_tokens_per_1k = 0.015

[cost.providers.openai."gpt-4-turbo"]
prompt_tokens_per_1k = 0.01
completion_tokens_per_1k = 0.03

[cost.providers.anthropic."claude-3-5-sonnet"]
prompt_tokens_per_1k = 0.003
completion_tokens_per_1k = 0.015

[lockfile]
# Ensure prompt/config consistency between dev and prod
# Enable in production for deterministic deployments
enabled = false

[governance]
# Governance settings can also be overridden via environment variables:
# - FLUJO_GOVERNANCE_TOOL_ALLOWLIST: Comma-separated tool IDs
# - FLUJO_GOVERNANCE_PII_SCRUB: Enable PII scrubbing (1/0)
# - FLUJO_GOVERNANCE_PII_STRONG: Enable strong PII mode (1/0)
# - FLUJO_GOVERNANCE_COST_LIMIT: Max cost in USD
# - FLUJO_GOVERNANCE_CONFIDENCE_THRESHOLD: Min confidence for auto-approval

# Default confidence threshold for auto-approval
confidence_threshold = 0.85
